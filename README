# Oblivion RP

This is the repository for Oblivion RP – a local first D&D play by text web app. The project is split into a Node/Express backend and a Vite/React frontend using SQLite for storage and WebSockets for real time chat.

## Packages

- **server** – Express API with better sqlite3, Google Sign‑In verification and WebSocket chat.
- **client** – Vite + React frontend with simple routing and WebSocket client.

## Getting started (local)

1. Install dependencies and set up the workspace:

```bash
npm install
```

2. Copy `.env.example` to `.env` and provide your own values for the environment variables.

3. Start the development servers:

```bash
npm run dev
```

This runs both the backend and frontend concurrently. The client proxies API requests to the backend during development.

## Environment variables

At minimum you will need the following variables:

- `PORT` – port for the server (default `3000`).
- `GOOGLE_CLIENT_ID` – Google Sign In client ID used on both client and server.
- `DEV_AUTH` – when set to `true` the backend will accept any user for development and CI.
- `SESSION_SECRET` – secret used to sign session cookies.
- `VITE_GOOGLE_CLIENT_ID` – same as `GOOGLE_CLIENT_ID` but prefixed for the Vite client.

For CI, you can enable `DEV_AUTH=true` so that authentication is bypassed.

## Project Overview

The backend exposes REST endpoints under `/api` for health checks, authentication, user info, campaigns, messages and dice rolls. It also upgrades WebSocket connections for campaign chat. The frontend provides a basic UI with login, campaign list/creation/joining and a chat screen. Dice rolls are parsed on the server and stored alongside chat messages. An invite code allows other users to join campaigns.
